# Clean Architecture REST Server

이 프로젝트는 Clean Architecture 원칙을 따르는 Kotlin Spring Boot 애플리케이션입니다.

## 아키텍처 개요

이 애플리케이션은, 클린 아키텍처 원칙에 따라 구성되었으며, 다음과 같은 계층 구조를 가집니다:

```
src/main/kotlin/yousang/rest/
├── domain/                    # 도메인 계층 - 비즈니스 규칙, 엔티티, 인터페이스 정의
│   ├── model/                 # 도메인 모델 (엔티티)
│   └── port/                  # 포트 (인터페이스)
│       ├── in/                # 입력 포트 (유스케이스 정의)
│       └── out/               # 출력 포트 (리포지토리, 외부 서비스 인터페이스 등)
├── application/               # 애플리케이션 계층 - 유스케이스 구현, 도메인 로직 조율
├── adapter/                   # 어댑터 계층 - 외부 세계와의 통신
│   ├── in/                    # 입력 어댑터 (컨트롤러 등)
│   │   └── web/               # 웹 어댑터 (REST 컨트롤러)
│   │       └── dto/           # 데이터 전송 객체
│   └── out/                   # 출력 어댑터 (DB, 외부 API 클라이언트 등)
│       └── persistence/       # 영속성 어댑터
│           ├── entity/        # JPA 엔티티
│           ├── mapper/        # 도메인 모델 <-> 영속성 모델 매퍼
│           └── repository/    # Spring Data 리포지토리
└── config/                    # 설정 클래스
```

## 의존성 규칙

클린 아키텍처의 핵심은 의존성 규칙입니다:

1. 내부 계층(도메인)은 외부 계층(어댑터)을 알지 못합니다.
2. 모든 의존성은 안쪽으로 향합니다.
3. 도메인 계층은 어떤 프레임워크에도 의존하지 않습니다.

## 주요 구성 요소

### 도메인 계층
- **엔티티**: 시스템의 핵심 비즈니스 규칙을 담당하는 객체
- **포트**: 도메인이 외부 세계와 통신하는 방법을 정의하는 인터페이스

### 애플리케이션 계층
- **서비스**: 입력 포트를 구현하고, 도메인 로직을 조율하는 서비스

### 어댑터 계층
- **웹 어댑터**: REST API를 제공하는 컨트롤러
- **영속성 어댑터**: 데이터베이스 접근을 담당하는 어댑터

## 실행 방법

로컬 개발 환경:
```bash
./gradlew bootRun
```

프로덕션 환경:
```bash
SPRING_PROFILES_ACTIVE=prod java -jar build/libs/app.jar
```

## 테스트

```bash
./gradlew test
``` 